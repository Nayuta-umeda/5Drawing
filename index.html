<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>みんあ - ロビー</title>
  <link rel="stylesheet" href="./styles.css" />
<style>

/* === SAFE-AREA + NO-OVERLAP LAYOUT (mobile-first) === */
:root{
  --safeTop: max(10vh, env(safe-area-inset-top, 0px));
  --safeBottom: max(10vh, env(safe-area-inset-bottom, 0px));
  --uiGap: 10px;
  --uiPad: 12px;
  --uiR: 16px;
  --uiText: clamp(12px, 2.3vw, 16px);
  --uiTextSm: clamp(11px, 2.1vw, 14px);
  --uiBtn: clamp(12px, 2.2vw, 15px);
  --uiBtnPadY: clamp(8px, 1.6vh, 12px);
  --uiBtnPadX: clamp(10px, 2.4vw, 14px);
}

html, body{ height:100%; }
body{
  margin:0;
  /* keep the OS/browser chrome clear */
  padding-top: var(--safeTop);
  padding-bottom: var(--safeBottom);
}

#app, .app, .wrap, .container{
  min-height: calc(100vh - var(--safeTop) - var(--safeBottom));
}

.safeShell{
  min-height: calc(100vh - var(--safeTop) - var(--safeBottom));
  display:flex;
  flex-direction:column;
  gap: var(--uiGap);
  padding: var(--uiPad);
  box-sizing:border-box;
}

.safeHeader{
  flex: 0 0 auto;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  font-size: var(--uiTextSm);
}

.safeMain{
  flex: 1 1 auto;
  display:flex;
  align-items:center;
  justify-content:center;
  min-height: 0; /* allow flex children to shrink */
}

.safeCanvasWrap{
  width: min(92vw, 420px);
  aspect-ratio: 1 / 1;
  display:flex;
  align-items:center;
  justify-content:center;
  border-radius: var(--uiR);
  overflow:hidden;
}

.safeFooter{
  flex: 0 0 auto;
  display:flex;
  flex-direction:column;
  gap: var(--uiGap);
}

.safeTabs{
  display:flex;
  gap: 8px;
}
.safeTabs button{
  font-size: var(--uiBtn);
  padding: var(--uiBtnPadY) var(--uiBtnPadX);
}

.safePanel{
  border-radius: var(--uiR);
  padding: 10px;
  font-size: var(--uiText);
}

.safeRow{
  display:flex;
  flex-wrap:wrap;
  gap: 8px;
  align-items:center;
}

.safeRow button, .safeRow input, .safeRow select{
  font-size: var(--uiBtn);
}

.verBadge{
  font-size: 11px;
  opacity: .65;
  user-select:none;
}



/* version badge (for deployment verification) */
#verBadge{
  position: fixed;
  right: 12px;
  bottom: calc(env(safe-area-inset-bottom, 0px) + 12px);
  font-size: 11px;
  opacity: .65;
  z-index: 9999;
  pointer-events:none;
}



/* === LOBBY TUNE (V15.7) === */
.container{ gap:12px !important; }
/* make first action card sit closer to top inside safe area */
.container > .card:first-child{ margin-top: 0 !important; }
/* keep compact title card when it is second */
.container > .card:nth-child(2) .kv{ margin-top: 10px !important; }



/* === LOBBY TITLE (V15.7) === */
.minaTitle{
  font-family: "M PLUS Rounded 1c","Hiragino Maru Gothic ProN","Arial Rounded MT Bold","Comic Sans MS", system-ui, sans-serif;
  font-weight: 800;
  letter-spacing: .06em;
  font-size: clamp(34px, 8vw, 56px);
  line-height: 1.05;
  text-align: center;
  padding: 8px 6px 2px;
  color: #ff5da2;
  text-shadow: 0 10px 26px rgba(255,93,162,.20), 0 2px 0 rgba(255,255,255,.55);
}
.minaSub{
  text-align:center;
  margin-top: 6px;
  font-size: clamp(12px, 3vw, 15px);
  color: rgba(29,31,42,.72);
}



/* === LOBBY PACK (V15.8) === */
.container { gap: 10px !important; }
/* Let the button card expand */
#mainActions .btnCol button{ padding: 14px 12px !important; font-size: clamp(15px, 4vw, 18px) !important; }



/* === LOBBY COMPACT (V15.9) === */
.lobby.container{
  /* keep safe-area and avoid huge dead space */
  padding-top: max(10vh, env(safe-area-inset-top, 0px)) !important;
  padding-bottom: max(10vh, env(safe-area-inset-bottom, 0px)) !important;
}
.lobbyTitle{ padding: 10px 12px !important; }
#mainActions .btnCol{ gap: 10px !important; }
#mainActions .btnCol .btn{ padding: 14px 12px !important; font-size: clamp(15px, 4.2vw, 18px) !important; }

</style>
</head>
<body>
  <div class="verBadge" id="verBadge">V43</div>
  <div class="container lobby">
    <div class="card lobbyTitle" style="padding:14px;">
      <div class="minaTitle">みんあ</div>
      <div class="minaSub">1人1コマで、5秒の小さな物語。</div>
    </div>

    <div class="card" style="padding:14px;" id="mainActions">
      <div class="col btnCol">
        <button class="btn btnAccent" onclick="location.href='./create.html'">テーマを作成</button>
        <button class="btn btnAccent" onclick="location.href='./join_random.html'">テーマに参加（ランダム）</button>
        <button class="btn btnAccent" onclick="location.href='./gallery.html'">自分の作品</button>
      </div>
      <hr class="sep" />
      <div class="small muted">
        接続が怪しいときは <a class="badge" href="./ws-test.html">WSテスト</a> を使ってね。
      </div>
    </div>
  </div>

  <script src="./config.js"></script>
  <script src="./common.js"></script>
  <script>
    window.V15.ensureLogUi();
    window.V15.addLog("page_load", { path: location.pathname });
  </script>
</body>
</html>
